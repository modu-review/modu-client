# 테스트 수행 내역

## 테스트 파일 위치

- `src/features/users/posts/ui/test/stub.ts`
- `src/features/users/posts/ui/test/UserPostsList.spec.tsx`

## 테스트 시나리오

### UserPostsList.spec.tsx

#### 정상 케이스

- 게시글 데이터가 있을 때 리스트 형태로 렌더링된다
- 게시글 수가 헤더에 올바르게 표시된다
- 첫 페이지의 첫 3개 게시글에는 이미지 우선 로딩이, 나머지는 지연 로딩된다
- 두 번째 페이지부터는 모든 게시글의 이미지가 지연 로딩된다
- 여러 페이지의 게시글이 모두 렌더링된다
- 다음 페이지가 존재할 경우 스크롤 감지 요소가 렌더링된다
- 다음 페이지 로딩 중일 때 스켈레톤 UI가 3개 렌더링된다
- 정렬 옵션을 변경하면 핸들러가 호출된다
- 모바일에서는 SelectSortOptions가, 데스크톱에서는 SortButtons가 렌더링된다

#### 엣지/예외 케이스

- 첫 페이지 게시글이 비어있으면 검색 결과 없음이 렌더링된다
- 게시글이 3개 미만일 때도 모두 이미지 우선 로딩이 적용된다
- 게시글이 1개일 때도 이미지 우선 로딩이 적용된다
- 다음 페이지가 없고 페이지가 2개 이상일 때 종료 메시지가 표시된다
- 다음 페이지가 없지만 페이지가 1개뿐이면 종료 메시지가 표시되지 않는다
- 다음 페이지가 있다면 종료 메시지가 표시되지 않는다
- 동일한 정렬 옵션을 다시 선택해도 정상 동작한다

#### IntersectionObserver 동작

- observer가 생성되고 observe가 호출된다
- observer가 감지되고 다음 페이지가 있다면 다음 페이지를 요청한다
- 다음 페이지가 없다면 IntersectionObserver가 생성되지 않는다
- 컴포넌트 언마운트 시 observer cleanup이 실행된다

## 테스트 결과

- ✅ 총 20개의 테스트 케이스 모두 통과
- ✅ 비즈니스 로직 검증: 무한 스크롤, 이미지 우선 로딩, 정렬 기능
- ✅ 엣지 케이스 검증: 빈 상태, 종료 메시지 조건 분기
- ✅ 반응형 UI 검증: 모바일/데스크톱 정렬 컨트롤 렌더링
